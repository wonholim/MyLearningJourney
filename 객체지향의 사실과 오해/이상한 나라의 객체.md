# 이상한 나라의 객체

- [x] 1. 객체지향과 인지 능력
- [x] 2. 객체, 그리고 이상한 나라
- [x] 3. 객체, 그리고 소프트웨어 나라
- [x] 4. 기계로서의 객체
- [x] 5. 행동이 상태를 결정한다
- [x] 6. 은유와 객체

(완벽하게 책의 내용을 담은게 아닙니다. 책을 읽고 요약을 중심으로 작성했습니다. 정확한 이해를 위해선 책을 구매해 직접 읽어야 합니다.)

<br><br>

## 1. 객체지향과 인지 능력

---

<br>

 객체지향 패러다임은 지식을 추상화하고, 추상화한 지식을 객체 안에 캡슐화함으로써 현실세계 문제에 내재된 복잡성을 관리하려고 한다. 객체를 발견하고 창조하는 것은 지식과 행동을 구조화하는 문제다.

 본 글에서는 엘리자베스 스펠크와 필립 켈만의 실험 (4개월된 아이의 지루함과 놀라움을 2개의 막대기와 판으로 실험하는 것.)은 인간이 선천적으로 타고난 인지 능력을 이용해 세상에 존재하는 다양한 객체를 **식별**하고, **분류**함으로써 세상을 이해한다는 사실을 보여준다. 사람들이 객체지향을 직관적이고 이해하기 쉬운 패러다임이라고 말하는 이유는 객체지향의 세상을 자율적이고 독립적인 객체들로 분해할 수 있는 인간의 기본적인 인지 능력에 기반을 두고 있기 때문이다.

 위에 근거한 실험처럼 인간은 복잡성을 줄이기 위해 큰 문제를 작은 문제로 쪼개기 시작했으며, 이는 세상을 더 작은 객체로 분해하는 것도, 복잡성을 극복하기 위함이다. 객체란 인간이 분명하게 인지하고, 구별할 수 있는 **물리적인** 또는 **개념적인 경계**를 지닌 어떤 것이다.

 **객체지향 패러다임**은 인간이 인지할 수 있는 다양한 객체들이 모여 현실 세계를 이루는 것처럼 **소프트웨어 세계 역시 인간이 인지할 수 있는 다양한 소프트웨어 객체들이 모여 이뤄져 있다는 믿음에서 출발한다.** 또한 현실 세계를 **모방**하는게 아닌, 현실 세계를 기반으로 새로운 세계를 **창조**하는 것이 목적임을 명시하자.

<br><br>

## 2. 객체, 그리고 이상한 나라

---

<br>

 앨리스는 정원으로 가는 길을 막고있는 문을 통과하기 위해, 자신의 키를 낮춰야한다. 앨리스는 마시면 키가 작아지는 병, 먹으면 키가 크는 케이크, 위쪽을 먹으면 키가 커지고 아래쪽을 먹으면 키가 작아지는 버섯을 가지고있다. 앨리스는 문을 통과하기 위해선, 적당한 **상태**가 되어야한다. 여기서 적당한 **상태**란 문을 통과하기 위한 **적절한** 키를 의한다. 따라서 특정 시점의 앨리스의 **상태**란 특정 시점에서의 앨리스의 키를 의미한다.

 앨리스가 **행동**을 취하면 앨리스의 키는 흐름에 따라 계속 변하게된다. 즉 앨리스의 **상태**를 **결정**하는 것은 **행동**이지만, **행동**의 **결과**를 **결정**하는 것은 **상태**다.

 앨리스가 케이크를 먹으면 20센치가 커지고, 마시면 작아지는 병에든 액체를 먹으면 10센치가 줄어든다. 그러면 케이크를 먹고, 액체를 먹으면 어떻게 될까? 기존의 키에서 +20 -10해서 최종적으로 +10만큼 늘어날 것이다. 결국 케이크를 먹거나 액체를 먹기전에 앨리스의 키가 얼마였느냐가, 케이크를 먹거나 액체를 먹고난 후 앨리스의 키를 **결정**한다. 따라서 앨리스가 한 **행동**의 **결과**는 앨리스의 **상태**에 **의존적**이다.

 앨리스가 문을 통과했는지 여부는, 앨리스의 위치라는 **상태**를 이용해 쉽게 설명할 수 있다. 어떤 **행동**의 성공 여부는 이전에 어떤 **행동**들이 **발생**했는지에 **영향**을 받는다.

 앨리스는 문을 통과하기 전에 키를 작게 줄이기 위해 케이크나 액체를 먹어야하며, 이는 **행동**간의 **순서**가 중요하다는 것을 의미한다. **행동**에 의해 앨리스의 **상태**가 변경되어도, 앨리스가 앨리스임은 변하지 않는다. 따라서 앨리스는 **상태 변경**과 무관하게, 유일한 존재로 **식별** 가능하다.

- 앨리스는 **상태**를 가지며 **상태**는 **변경 가능**하다.

- 앨리스의 **상태**를 **변경**시키는 것은 앨리스의 **행동**이다.
    - **행동**의 결과는 **상태**에 **의존적**이며 **상태**를 이용해 서술할 수 있다.
    - **행동**의 **순서**가 **결과**에 **영향**을 미친다.

- 앨리스는 어떤 **상태**에 있더라도 유일하게 **식별** 가능하다.

<br><br>

## 3. 객체, 그리고 소프트웨어 나라

---

<br>

 하나의 개별적인 실체로 식별 가능한 물리적인 또는 개념적인 사물은 어떤 것이라도 객체가 될 수 있다. 인간의 인지 능력 안에서 개수를 셀 수 있고, 다른 사물과 구분할 수 있으며, 생성 시점을 알 수 있고, 독립적인 하나의 단위로 인식할 수 있는 모든 사물은 **객체**다. **객체**의 다양한 특성을 효과적으로 설명하기 위해, **상태**, **행동**, **식별자**를 지닌 실체로 보는게 효과적이다. 또한 소프트웨어 안에서 **객체**는 저장된 **상태**와 실행 가능한 코드를 통해 구현된다.

### 객체에게 왜 **상태**가 필요할까? 

 객체가 주변 환경과의 상호작용에 어떻게 반응하가는 그 시점까지 **객체에 어떤 일이 발생했느냐에 좌우된다.** 현실 세계에서 모든 일의 공통점은 **어떤 행동의 결과**는 **과거에 어떤 행동**들이 일어났었느냐에 **의존**한다는 것이다.

 만약 앨리스가 문을 통과하기 위해선 케이크를 먹거나 액체를 먹어야할 것이다. 문을 통과하기에 충분할 정도로 자신의 키르 작게 줄여야만 한다. 따라서 앨리스가 문을 통과한다는 **행동**의 결과를 예상할 수 있는 방법은 앨리스가 과거에 했던 흐름들을 살펴보는 것이다. 하지만, 이 과정은 앨리스가 했던 모든 **행동**을 기억해야만 가능하기에 **행동의 결과**를 설명하는 것을 매우 어렵게 만든다. 따라서 인간은 **행동의 과정**과 **결과**를 단순하게 기술하기 위해 **상태**라는 개념을 도입했다. 

 **상태**를 이용하면 과거의 모든 행동 이력을 설명하지 않고도, **행동의 결과**를 쉽게 예측하고 설명할 수 있다. 즉 앨리스가 문을 통과할 수 있는지 여부는 앨리스의 키와 문의 높이 두 가지 **상태**만 알면 문을 통과하는 **행동의 결과**를 쉽게 예측할 수 있는 것이다.

 위와 같이 **상태**를 이용하면 과거에 얽매이지 않고 현재를 기반으로 객체의 **행동 방식**을 이해할 수 있다. **상태**는 근복적으로 세상의 **복잡성**을 완화하고, **인지 과부하**를 줄일 수 있는 중요한 개념이다.

 앨리스는 **객체**다. 케이크도, 액체도 문도 모두 **객체**이다. 이들은 뚜렷한 경계를 가지며 **식별 가능**하고 **상태***와 **행동**을 지니고 있다. 하지만 숫자, 문자열, 양, 속도, 시간, 날짜, 참 / 거짓 등과 같은 단순한 **값**들은 객체가 아니다. 이들은 객체의 **상태**를 표현하기위해 사용된다.

### 상태와 프로퍼티

 **객체**를 이용해 다른 **객체**의 **상태**를 표현할 때가 있다. 앨리스가 케이크를 들고 있는 경우, 앨리스와 케이크는 서로 이어진 **상태**이다. 결론적으로 모든 **객체의 상태**는 단순한 값과 객체의 조합으로 표현할 수 있으며, 이런 모든 특징을 객체의 **프로퍼티**라고 한다. 일반적으로 **프로퍼티**는 변경되지 않고 고정이기에 **정적**이다. 하지만 **프로퍼티**값은 시간이 흐름에 따라 변경되기 때문에 **동적**이다. 앨리스가 케이크를 놓는다면, 앨리스와 케이크는 서로 알지 못하는 **상태**로 변경된다. 이처럼 객체와 객체 사이의 의미 있는 연결을 **링크**라고한다. **링크**가 있어야, 요청을 보내고 응답할 수 있으며, 즉 **객체의 링크**를 통해서만 **메시지**를 주고 받을 수 있다.

 **링크**는 객체가 다른 객체를 **참조**할 수 있다는 것을 의미하며, 일반적으로 한 객체가 다른 객체의 식별자를 알고 있는 것으로 표현된다. 객체를 구성하는 단순한 값은 **속성**이라고 한다. 

### 상태와 행동

 객체의 **상태**는 저절로 변경되지 않는다. 객체의 **상태**를 변경하는 것은 객체의 자발적인 **행동**뿐이다. 객체가 취하는 **행동**은 객체 자신의 **상태**를 **변경**시킨다. 객체의 **행동**에 의해 객체의 **상태**가 변경된다는 것은 **행동**이 **부수 효과**를 초래한다는 것을 의미한다. 부수 효과의 개념을 이용하면, 객체의 행동을 상태 변경의 관점에서 쉽게 기술할 수 있다. 앨리스가 케이크를 먹으면 앨리스의 키가 커지고, 케이크의 양은 줄어든다. 이것의 행동에 따른 상태가 변경되는 **부수 효과**이다.

 객체의 **행동**은 객체의 **상태**를 변경시키지만, 행동의 결과는 객체의 **상태**에 **의존적**이다.

 상태와 행동의 관계

- 객체의 **행동**은 **상태**에 영향을 받는다.

- 객체의 **행동**은 **상태**를 변경시킨다.

 상태라는 개념을 이용한 행동의 두 가지 관점

- 상호작용이 현재의 **상태**에 어떤 방식으로 **의존**하는가

- 상호작용이 어떻게 현재의 **상태**를 변경시키는가

### 협력과 행동

 객체는 다른 객체와 **적극적**으로 상호작용하며 **협력하는 객체들의 공동체**에 참여하기 위해 노력한다. 객체가 다른 객체와 협력하는 유일한 방법은 다른 객체에서 **요청**(메시지)을 보내는 것이다. 객체는 **협력**에 참여하는 과정에서 자기 자신의 상태뿐만 아니라, 다른 객체의 **상태** 변경을 유발할 수 있다.

 객체의 행동으로은 **객체 자신의 상태 변경**과 **행동 내에서 협력하는 다른 객체에 대한 메시지 전송**이다.

### 상태 캡슐화

 객체지향 세계에서 객체는 자율성을 가진다. 모든 객체는 자신의 **상태**를 스스로 관리한다. 앨리스가 케이크를 먹어도, 앨리스는 케이크의 상태를 변경하는데 직접적으로 간섭할 수 없다. 객체와 객체가 상호작용할 수 있는 케이크를 먹었다라는 **메시지**를 보내는 것이다. 이 과정에서 **메시지**를 전달하는 **송신자**는 **메시지 수신자**의 **상태 변경**에 대해 알 수 없다. 이것이 **캡슐화**가 의미하는 것이다. 

 **행동**을 경계로 캡슐화하는 것은 결과적으로 객체의 자율성을 높인다. **상태**를 잘 정으된 **행동 집합** 뒤로 **캡슐화**하는 것은 객체의 자율성을 높이고, **협력**을 단순하고 유연하게 만든다. 이것이 **상태**를 **캡슐화**해야하는 이유다.

### 식별자

 객체가 **식별** 가능하다는 것은 객체를 서로 구별할 수 있는 특정한 **프로퍼티**가 객체 안에 있다는 것을 의미한다. 이 프로퍼티를 **식별자**라 한다. 반대로 객체가 아닌 단순한 값은 **식별자**를 가지지 않는다. 값의 **상태**는 변하지 않기에 **불변 상태**를 가진다고 말한다. 값의 경우 두 인스턴스의 **상태**가 같다면, 두 인스턴스를 같은 것으로 판단(동등성 성질)한다. 객체는 시간에 따라 변경되는 **상태**를 포함하며, 행동을 통해 **상태**를 변경한다. 그래서 **가변 상태**라고한다. 두 객체의 **상태**가 다르더라도, **식별자**가 같다면 두 객체는 같은 객체(동일성)이다.

- 객체는 **상태**를 가지며 **상태**는 변경 가능하다.

- 객체의 **상태**를 변경시키는 것은 객체의 **행동**이다.
    - **행동**의 결과는 **상태**에 **의존적**이며, **상태**를 이용해 서술할 수 있다.
    - **행동**의 순서가 실행 결과에 **영향**을 미친다.

- 객체는 어떤 **상태**에 있더라도 유일하게 **식별** 가능하다.

<br><br>

## 4. 기계로서의 객체

---

<br>

 객체의 **상태**를 조회하는 작업을 **쿼리**, **상태**를 변경하는 작업을 **명령**이라고 한다. 사용자가 객체 기계의 버튼을 눌러 **상태**를 변경하거나 **상태 조회**를 요청하는 것은 객체의 **행동**을 유발하기 위한 메시지를 전송하는 것과 유사하다. 
 
 기계의 겉 금속은 객체 기계가 제공하는 **명령 버튼**과 **쿼리 버튼**으로 구성된 인터페이스를 통해서만 객체에 접근할 수 있으며, 이는 캡슐화를 의미한다.

<br><br>

## 5. 행동이 상태를 결정한다

---

<br>

 객체에 필요한 **상태**가 무엇인지 결정하고, 그 **상태**에 필요한 결정을 하지마라. **상태**를 먼저 결정할 경우 3가지 문제점이 발생한다. **캡슐화**가 저해된다. 객체를 **협력자**가 아닌 **고립된 섬**으로 만든다. 객체의 **재사용성**이 저하된다. 협력에 참여하는 훌륭한 객체 시민을 만들기 위해선, **상태**가 아닌 **행동**에 초점을 맞추는 것이다. 따라서 어떤 **책임**이 필요한가를 결정하는 과정이 전체 **설계**를 주도해야한다. 이를 통해 **응집도 높고 재사용 가능한 객체**를 만들 수 있게 한다.


<br><br>

## 6. 은유와 객체

---

<br>

 객체지향은 현실 세계의 **모방**이 아니다. 객체지향 분석/설계란 현실 세계에 존재하는 다양한 객체를 모방한 후, 필요한 부분만 취해 소프트웨어 객체로 구현하는 과정이다.

 추상화란 현실 세계의 사물에서 자신이 원하는 특성만 취하고, 필요 없는 부분을 추려 핵심만 표현하는 행위를 의미한다. 우리는 객체지향의 세계에서 현실의 **추상화**가 아님을 기억하자.

 객체지향 속 객체와 현실 세계의 객체의 가장 큰 차이는 현실에서는 **수동적**인 존재가 객체지향 속에선 **능동적인**존재가 된다. 현실 세계의 책상을 예로 들면, 책상은 스스로 크기를 늘리거나 색을 바꿀 수 없다. 하지만 객체지향의 세계에서는 가능하다. 이를 **의인화**라고 부른다.

 현실 세게의 모방으로 착각할 수 있는 이유는 객체 지향에서 현실 세계의 도메인 이름을 사용하기 때문이며, 이는 **표현적** 차이를 줄여줄 수 있다. 마치 실제 고양이가 아니더라도, 고양이와 비슷하게 생기고 이름이 고양이라면, 우리가 고양이라고 인식하는 것처럼 말이다. 이를 **은유**라고 부른다.

<br><br>